{"version":3,"sources":["index.js"],"names":["uqStops","App","state","buses","stopId","fetch","tripIdResponse","json","trips","tripsArray","i","push","trip_id","this","setState","forEach","getBusesForStop","getBuses","map","bus","key","getBusListElement","React","Component","ReactDOM","render","document","getElementById"],"mappings":"wPASMA,G,MAAU,CAAC,OAAQ,OAAQ,OAAQ,OAAQ,SAE3CC,E,2MAEJC,MAAQ,CACNC,MAAO,I,wHAQaC,G,6FAEVC,MAAM,8CAAgDD,EAAS,K,cADnEE,E,gBAGcA,EAAeC,O,OAGnC,IAHMC,E,OACFC,EAAa,GAERC,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAWE,KAAKH,EAAME,GAAGE,SAG3BC,KAAKC,SAAS,CACZX,MAAOM,I,wIAIC,IAAD,OACTT,EAAQe,SAAQ,SAAAX,GAAM,OAAI,EAAKY,gBAAgBZ,Q,0CAM/C,OAFAS,KAAKI,WAGHJ,KAAKX,MAAMC,MAAMe,KAAI,SAAAC,GAAG,OACtB,wBAAIC,IAAOD,GAAMA,Q,+BAKrB,OAAON,KAAKQ,wB,GAzCEC,IAAMC,WA6CxBC,IAASC,OACP,kBAACxB,EAAD,MACAyB,SAASC,eAAe,U","file":"static/js/main.5cc53d9c.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\n//Gets bus details from 'trips' table using a trip_id\r\n//trip_id is one of the next 'x' busses departing from uq (stop_times)\r\n//Gets further bus details from 'routes' table using a route_id found in\r\n//'trips'\r\n\r\nconst uqStops = [\"1853\", \"1878\", \"1880\", \"1882\", \"1883\"];\r\n\r\nclass App extends React.Component {\r\n\r\n  state = {\r\n    buses: []\r\n  }\r\n\r\n  //, \"1877\", \"1878\", \"1880\", \"1882\", \"1883\"];\r\n\r\n  //var today = Date();\r\n  //var date = today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();\r\n\r\n  async getBusesForStop(stopId) {\r\n    const tripIdResponse =\r\n        await fetch(\"http://uqbus.richal.tech/stop_time/stop_id/\" + stopId + \"/\");\r\n\r\n    const trips = await tripIdResponse.json()\r\n    var tripsArray = []\r\n\r\n    for (var i = 0; i < 5; i++) {\r\n      tripsArray.push(trips[i].trip_id);\r\n    }\r\n\r\n    this.setState({\r\n      buses: tripsArray\r\n    });\r\n  }\r\n\r\n  getBuses() {\r\n    uqStops.forEach(stopId => this.getBusesForStop(stopId))\r\n  }\r\n\r\n  getBusListElement() {\r\n    this.getBuses();\r\n\r\n    return (\r\n      this.state.buses.map(bus => \r\n        <li key = {bus}>{bus}</li>\r\n      ));\r\n  }\r\n\r\n  render() {\r\n    return this.getBusListElement();\r\n  }\r\n}\r\n\r\nReactDOM.render(\r\n  <App></App>,\r\n  document.getElementById('root')\r\n);"],"sourceRoot":""}